<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./images/console.png" type="image/x-icon">
    <script src="./validationlogin.js" defer></script>
    <title>Log In - SE</title>
    <link rel="stylesheet" href="loginstyle.css">
</head>
<body>
    <div class="toCenter">
        <div class="login">
          <div class="loginTitle">Log In</div>
          <form action="" id="form_login" name="formLogin">
            <div class="email">
                <div class="formLabel">Email</div>
                <input type="email" name="email" id="email" placeholder="Email..." required>
                <div id="errorEmail" class="errormsg"></div>
            </div>
            <div class="password">
              <div class="formLabel">Password</div>
              <input type="password" name="password" id="password" placeholder="Password...">
              <div id="errorPassword" class="errormsg"></div>
            </div>
            <button type="button" value="Submit" onclick="validate()"><div id="loginText">Log In</div></button>
            <a href="./signup.html" class="gotoSignUp"><div>Didn't have any account?</div></a>
          </form>
        </div>
      </div>
</body>

<script>
    async function login()
  {   
      let datas = {
          "CustomerName"   : document.getElementById("email").value,
          "CustomerPassword" : document.getElementById("password").value
      }

      const response =  await fetch("https://localhost:5001/user/login" , {
          method : 'POST',
          mode : "cors",
          headers : {
              'Content-Type': 'application/json'
          },
          body : JSON.stringify(datas)
      }).then(async function(response) {
      return await response.json();
    })
    .then(async function(data) {
      console.log(data["result"]);
    })
      }
</script>
</html>